@import "@/assets/styles/variables.scss";

.dropdown-menu-container {
  position: relative;
  display: inline-block;

  &.menu-open {
    z-index: 1001; /* Higher z-index when menu is open */
  }

  .dropdown-trigger {
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .dropdown-menu {
    position: absolute;
    top: 100%;
    margin-top: 0.25rem;
    background-color: var(--component-bg-color);
    border-radius: $radius-md;
    box-shadow: 0 0.25rem 1rem rgba(0, 0, 0, 0.3);
    z-index: 1000;
    min-width: 10rem;
    overflow: hidden;
    /* Add a higher CSS specificity to ensure proper layering */
    body & {
      background-color: var(--component-bg-color);
    }

    &.left {
      right: 0;
    }

    &.right {
      left: 0;
    }

    .dropdown-menu-list {
      list-style: none;
      padding: 0;
      margin: 0;
      background-color: var(--component-bg-color);

      .dropdown-menu-item {
        background-color: var(--component-bg-color);

        .dropdown-menu-button {
          display: flex;
          align-items: center;
          width: 100%;
          padding: 0.75rem 1rem;
          background-color: var(--component-bg-color);
          border: none;
          text-align: left;
          cursor: pointer;
          color: var(--text-primary-color);
          font-size: $font-sm;

          &:hover {
            background-color: var(--hover-color);
          }

          &.danger {
            color: var(--error-color);

            &:hover {
              background-color: rgba(var(--error-color-rgb), 0.1);
            }
          }

          .dropdown-menu-icon {
            display: flex;
            align-items: center;
            margin-right: 0.75rem;
            color: inherit;
          }

          .dropdown-menu-label {
            flex: 1;
            white-space: nowrap;
            overflow: hidden;
            text-overflow: ellipsis;
          }
        }
      }
    }
  }
}
